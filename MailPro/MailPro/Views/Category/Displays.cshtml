@model MailPro.Models.DisplayClass

@{
    ViewBag.Title = "Displays";


    List<string> abc = (List<string>)Session["mails"];
    //List<Class1> xyz = (List<Class1>)Session["data"];
}



<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
    <style type="text/css">
        body {
            font-family: Arial;
            font-size: 10pt;
        }
    </style>
    <link rel="stylesheet" href="@Url.Content("../files/bootstrap.min.css")">
    <link rel="stylesheet" href="@Url.Content("../css/sent mails.css")" type="text/css">
    <link rel="stylesheet" href="@Url.Content("../files/fontawesome.min.css")">


    @*<script src="@Url.Content("../files/jquery-3.4.1.min.js")"></script>*@
        <script src="@Url.Content("../files/bootstrap.min.js")"></script>
    @*<script type="text/javascript" src="@Url.Content("https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js")"></script>
        <link href="@Url.Content("https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/css/bootstrap.min.css")"
              rel="stylesheet" type="text/css" />
        <script type="text/javascript" src="@Url.Content("https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/js/bootstrap.min.js")"></script>
        <link href="@Url.Content("https://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/css/bootstrap-multiselect.css")" rel="stylesheet" type="text/css" />
        <script src="@Url.Content("https://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/js/bootstrap-multiselect.js")" type="text/javascript"></script>*@



    <script>
        $(function () {
            // Sidebar toggle
            $('#sidebarCollapse').on('click', function () {
                $('#sidebar, #content').toggleClass('active');
            });
        });
    </script>
    <script type="text/javascript">
        $(function () {
            $('.listbox').multiselect({
                includeSelectAllOption: true
            });
        });
    </script>

</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="px-3 bg-light">
            <div class="media d-flex align-items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="96.412" height="68" viewBox="0 0 96.412 68" class="mr-3 ">
                    <g id="Ellipse_1" data-name="Ellipse 1" fill="none" stroke="#fff" stroke-width="6">
                        <ellipse cx="35.164" cy="34" rx="35.164" ry="34" stroke="none" />
                        <ellipse cx="35.164" cy="34" rx="32.164" ry="31" fill="none" />
                    </g>
                    <g id="Ellipse_2" data-name="Ellipse 2" transform="translate(44.713 9.315)" fill="none" stroke="#fff" stroke-width="6">
                        <ellipse cx="25.849" cy="24.918" rx="25.849" ry="24.918" stroke="none" />
                        <ellipse cx="25.849" cy="24.918" rx="22.849" ry="21.918" fill="none" />
                    </g>
                </svg>

                <div class="media-body">
                    <h4 class="m-0">Name</h4>


                </div>
            </div>
        </div>


        <div class=" collapse navbar-collapse nav-item active" id="navbarSupportedContent">
            <!--
            <a class="nav-link" href="#"	>Signout</a>-->
        </div>

        <button id="sidebarCollapse" type="button" class="btn btn-light bg-white rounded-pill shadow-sm px-4 nav-item active"><small class="text-uppercase font-weight-bold">Toggle</small></button>



    </nav>
    <div class="vertical-nav bg-white shadow-none" id="sidebar">

        <p class="text-gray font-weight-bold text-uppercase px-3 py-3 pb-4 mb-0">MENU</p>
        <a href="https://localhost:44378/Category/Show">

            <button type="button" class="btn btn-light bg-light rounded-pill shadow-sm px-4 nav-item active mb-4 ml-5"><em class="text-uppercase font-weight-bold">Compose</em></button>
        </a>
        <ul class="nav flex-column bg-white mb-0">
            <li class="nav-item">
                <a href="https://localhost:44378/Email/ShowSentEmail" class="nav-link text-dark bg-light opt">
                    <!-- <i class="fa fa-th-large mr-3 text-primary fa-fw"></i>
                    -->
                    Sent Mail
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link text-dark opt">
                    <!--<i class="fa fa-address-card mr-3 text-primary fa-fw"></i>
                    -->
                    Browse Templates
                </a>
            </li>
            <li class="nav-item">
                <a href="https://localhost:44378/Category/ShowCategory" class="nav-link text-dark opt">
                    <!-- <i class="fa fa-cubes mr-3 text-primary fa-fw"></i>
                    -->
                    View Categories
                </a>
            </li>
            <li class="nav-item">
                <a href="https://localhost:44378/Category/AddCategory" class="nav-link text-dark opt">
                    <!-- <i class="fa fa-picture-o mr-3 text-primary fa-fw"></i>
                    -->
                    Add Categories
                </a>
            </li>
            @*<li class="nav-item">
                    <a href="#" class="nav-link text-dark opt">
                        <!-- <i class="fa fa-cubes mr-3 text-primary fa-fw"></i>
                        -->
                        View Students
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link text-dark opt">
                        <!-- <i class="fa fa-picture-o mr-3 text-primary fa-fw"></i>
                        -->
                        Add Students
                    </a>
                </li>*@
            <li class="nav-item mx-5">
                @if (User.Identity.IsAuthenticated)
                {
                    <button id="logout" type="button" class="btn btn-light bg-white rounded-pill shadow-sm px-4 nav-item active"><small class="text-uppercase font-weight-bold text-black-50">@Html.ActionLink("Logout", "Logout", "Account")</small></button>
                }
            </li>

        </ul>
    </div>
    <div class="page-content active container-fluid" id="content">
        @*<div class="row pt-5">
            <div class="col-lg-12">*@

        @using (Html.BeginForm("Displays", "Category", FormMethod.Post))
        {
            foreach (var ch in abc)
            {
                List<SelectListItem> items = new List<SelectListItem>();
                List<string> xyz = new List<string>();

                <br />
                <br />
                @Html.Label(ch);
                //foreach(var item in )
                // Model.StudentNames = Model.StudentNames.Distinct();

                foreach (var item in Model.StudentNames)

                {
                    var sno = Convert.ToInt32(@item.Value);
                    Temp tp = new Temp();
                    var context = new MailProEntities();
                    tp = context.Temp.SingleOrDefault(x => x.StuidentNo == sno && x.CategoryName == ch);
                    if (tp != null)
                    {
                        var i = tp.StuidentNo.ToString();
                        var ab = items.SingleOrDefault(x => x.Value == i);
                        if (ab == null)
                        {
                            items.Add(new SelectListItem()
                            {
                                Text = @item.Text,
                                Value = @item.Value,

                            });
                        }
                        //xyz.Add(@item.Text);
                        //@Html.ListBox(@item.Value);






                        // @Html.CheckBox(@item.Text); <p>@item.Text</p>
                        //@Html.ListBox(@item.Value,item.Text)




                    }




                }
                Model.CategoryNames = items;

                @Html.ListBoxFor(m => m.ids, Model.CategoryNames, new { @class = "listbox" })

                <input type="submit" value="Submit" />
                    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
                        <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/css/bootstrap.min.css"
                              rel="stylesheet" type="text/css" />
                        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/js/bootstrap.min.js"></script>
                        <link href="https://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/css/bootstrap-multiselect.css" rel="stylesheet" type="text/css" />
                        <script src="https://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/js/bootstrap-multiselect.js" type="text/javascript"></script>


            }
        }

        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/css/bootstrap.min.css"
              rel="stylesheet" type="text/css" />
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/js/bootstrap.min.js"></script>
        <link href="https://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/css/bootstrap-multiselect.css" rel="stylesheet" type="text/css" />
        <script src="https://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/js/bootstrap-multiselect.js" type="text/javascript"></script>
        <script type="text/javascript">
            $(function () {
                $('.listbox').multiselect({
                    includeSelectAllOption: true
                });
            });
        </script>
        @if (ViewBag.Message != null)
        {
            <script type="text/javascript">
            window.onload = function () {
                alert("@ViewBag.Message");
            };
            </script>
        }
    </div>
</body>
</html>
<h2>Displays</h2>